<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>bruno - {{page.title}}</title>
	<link href="/assets/css/docs.css" media="all" rel="stylesheet" type="text/css">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
	<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  </head>
  <body>
	<page>
		<toc>
			<i class="fa fa-bars"></i> Goto...
		</toc>			
		<content>{{content}}</content>
		<footer>
		(c) 2014 Jan Bernitt
		</footer>
	</page>
	<script>
function highlight(_, html) {
   return html
	.replace(/([a-z]+\s+)([-a-zA-Z0-9]+)(\s*(\[[^\]]+\]\s*)?::)/g, "$1<def>$2</def>$3")
	.replace(/(unit|dimension|data|fn|op|protocol|notation|where|ratio|instances|system|machine|behaviour)/g, '<kw>$1</kw>')
	.replace(/("[^"]*"|'[^,. \)\]\t\n\r]+(\.[^,. \)\]\t\n\r]+)?|#[xdob]?[A-F0-9]+|`[^\s]+)/g, "<lit>$1</lit>")
	.replace(/(`[^\s]+)/g, "<atom>$1</atom>")
	.replace(/<lit>('[0-9.e+-]+)([a-zA-Z]+)<\/lit>/g, "<lit>$1<uom>$2</uom></lit>")
	.replace(/(\s=\s|,|_|\s-&gt;|\\=|\\)/g, "<op>$1</op>")
	.replace(/(::)/g, "<as>$1</as>")
   	;
}

$("content pre code").html(highlight);

$("content p code").html(highlight);

if ($(window).width() > $("page content").get(0).offsetWidth + (2*220)) { 
	$(".footnotes li").each(function(n, e) { $("#"+e.id.replace("fn", "fnref\\")).before($("<ol class='sidenote'></ol>").html(e)); });
	$(".sidenote li p").each(function(n, e) { 
		var id = $(this).parent().attr("id");
		$(this).prepend("<sup>"+id.substring(id.indexOf(":")+1)+" </sup>"); 
	});
}
	</script>
  </body>
</html>
